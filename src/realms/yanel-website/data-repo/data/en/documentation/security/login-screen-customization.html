<?xml version="1.0"?>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>  <title>Login Customization</title>
    <link rel="neutron-introspection" type="application/neutron+xml" href="?yanel.resource.usecase=introspection"/>
  </head>

<body>
<h1>Login Customization</h1>

<h2>Login Screen/View Customization</h2>

<ul>
<li>Create a directory <code>$REALM_DIR/src/webapp/xslt</code></li>
<li>Copy <code>$YANEL_SRC/src/webapp/xslt/login-screen.xsl</code> into <code>$REALM_DIR/src/webapp/xslt</code></li>
<li>Start customizing <code>$REALM_DIR/src/webapp/xslt/login-screen.xsl</code></li>
</ul>

<p>
whereas the filename <code>xslt/login-screen.xsl</code> is configurable globally inside <code>WEB-INF/web.xml</code> (See parameter <code>login-screen-xslt</code>).
</p>

<p>
<b>NOTE for Developers</b>: The realm dir ($REALM_DIR) is being resolved based on the <code>Realm.getRootDir()</code> and <code>Realm.getConfigFile()</code> or rather see the <code>YanelServlet</code> and in particular <code>org.wyona.yanel.servlet.security.impl.DefaultWebAuthenticatorImpl#getXHTMLAuthenticationForm(...)</code> for further details.
</p>

<h2>Login Logic/Controller Customization</h2>

<ul>
<li>Create a directory <code>$REALM_DIR/src/webapp/global-resource-configs</code></li>
<li>Copy <code>$YANEL_SRC/src/webapp/global-resource-configs/login_yanel-rc.xml</code> into <code>$REALM_DIR/src/webapp/global-resource-configs</code></li>
<li>Start customizing <code>$REALM_DIR/src/webapp/global-resource-configs/login_yanel-rc.xml</code></li>
</ul>

<h2>Return 401 for REST interfaces instead login screen</h2>

<p>
One can configure a resource associated with a REST interface with the resource configuration parameter

<pre>
&lt;yanel:property name="yanel:401-only-when-access-denied" value="true"/>
</pre>

such that when access denied, a 401 response is being returned instead a 200 with a login screen as body.
</p>
</body>
</html>
